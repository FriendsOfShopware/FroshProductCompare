{"version":3,"file":"frosh-product-compare-hJ0fURwJ.js","sources":["../../../app/administration/src/extension/sw-product/component/sw-product-cross-selling-form/sw-product-cross-selling-form.html.twig","../../../app/administration/src/extension/sw-product/component/sw-product-cross-selling-form/index.js","../../../app/administration/src/extension/sw-product/view/sw-product-detail-cross-selling/index.js","../../../app/administration/src/extension/sw-product/page/sw-product-detail/index.js"],"sourcesContent":["{% block sw_prduct_cross_selling_form_active_field %}\n    {% parent %}\n    <mt-switch\n        v-model=\"crossSelling.extensions.crossSellingComparable.isComparable\"\n        class=\"sw-product-detail-cross-selling__comparable-switch\"\n        :label=\"$tc('frosh-product-compare.crossSelling.compareLayout')\"\n        bordered>\n    </mt-switch>\n{% endblock %}\n\n{% block sw_prduct_cross_selling_form_limit_field %}\n    <mt-number-field\n        numberType=\"int\"\n        :disabled=\"allowEditLimit\"\n        :label=\"$tc('sw-product.crossselling.inputCrossSellingLimit')\"\n        v-model=\"crossSelling.limit\">\n    </mt-number-field>\n{% endblock %}\n","import template from './sw-product-cross-selling-form.html.twig';\nimport './sw-product-cross-selling-form.scss';\nimport { MAXIMUM_COMPARE_PRODUCT_ITEMS } from '../../../../constant/frosh-product-compare.constant';\n\nconst { Component, Utils } = Shopware;\n\nComponent.override('sw-product-cross-selling-form', {\n    template,\n\n    data() {\n        return {\n            originalLimit: this.crossSelling.limit\n        }\n    },\n\n    watch: {\n        'crossSelling.extensions.crossSellingComparable.isComparable': {\n            deep: true,\n            immediate: true,\n            handler(value) {\n                this.crossSelling.limit = value ? MAXIMUM_COMPARE_PRODUCT_ITEMS : this.originalLimit;\n            }\n        }\n    },\n\n    created() {\n        let crossSellingComparable = Utils.get(this.crossSelling, 'extensions.crossSellingComparable', null);\n\n        if (!crossSellingComparable) {\n            crossSellingComparable =\n                this.repositoryFactory.create('frosh_cross_selling_comparable').create(Shopware.Context.api);\n            crossSellingComparable.isComparable = false;\n            this.crossSelling.extensions.crossSellingComparable = crossSellingComparable;\n        }\n\n        if (Utils.get(this.crossSelling, 'extensions.crossSellingComparable.isComparable', false)) {\n            this.crossSelling.limit = MAXIMUM_COMPARE_PRODUCT_ITEMS;\n        }\n    },\n    computed: {\n        allowEditLimit() {\n            return this.crossSelling.extensions.crossSellingComparable.isComparable || !this.allowEdit\n        }\n    }\n});\n","\nconst { Component } = Shopware;\n\nComponent.override('sw-product-detail-cross-selling', {\n    methods: {\n        onAddCrossSelling() {\n            const crossSellingRepository = this.repositoryFactory.create(\n                this.product.crossSellings.entity,\n                this.product.crossSellings.source\n            );\n\n            this.crossSelling = crossSellingRepository.create(Shopware.Context.api);\n            const crossSellingComparableRepo = this.repositoryFactory.create('frosh_cross_selling_comparable');\n\n            const crossSellingComparable = crossSellingComparableRepo.create(Shopware.Context.api);\n            crossSellingComparable.isComparable = false;\n\n            this.crossSelling.productId = this.product.id;\n            this.crossSelling.position = this.product.crossSellings.length + 1;\n            this.crossSelling.type = 'productStream';\n            this.crossSelling.sortBy = 'name';\n            this.crossSelling.sortDirection = 'ASC';\n            this.crossSelling.limit = 24;\n            this.crossSelling.extensions.crossSellingComparable = crossSellingComparable;\n\n            this.product.crossSellings.push(this.crossSelling);\n        }\n    }\n});\n","const { Component } = Shopware;\n\nComponent.override('sw-product-detail', {\n    computed: {\n        productCriteria() {\n            const criteria = this.$super('productCriteria');\n\n            criteria.addAssociation('crossSellings.crossSellingComparable');\n\n            return criteria;\n        }\n    }\n});\n"],"names":["template","Component","Utils","value","crossSellingComparable","crossSellingRepository","criteria"],"mappings":"AAAA,MAAAA,EAAe,yiBCIf,KAAM,WAAEC,EAAW,MAAAC,CAAK,EAAK,SAE7BD,EAAU,SAAS,gCAAiC,CAChD,SAAAD,EAEA,MAAO,CACH,MAAO,CACH,cAAe,KAAK,aAAa,KAC7C,CACA,EAEI,MAAO,CACH,8DAA+D,CAC3D,KAAM,GACN,UAAW,GACX,QAAQG,EAAO,CACX,KAAK,aAAa,MAAQA,EAAQ,EAAgC,KAAK,aACvF,CACA,CACA,EAEI,SAAU,CACN,IAAIC,EAAyBF,EAAM,IAAI,KAAK,aAAc,oCAAqC,IAAI,EAE9FE,IACDA,EACI,KAAK,kBAAkB,OAAO,gCAAgC,EAAE,OAAO,SAAS,QAAQ,GAAG,EAC/FA,EAAuB,aAAe,GACtC,KAAK,aAAa,WAAW,uBAAyBA,GAGtDF,EAAM,IAAI,KAAK,aAAc,iDAAkD,EAAK,IACpF,KAAK,aAAa,MAAQ,EAEtC,EACI,SAAU,CACN,gBAAiB,CACb,OAAO,KAAK,aAAa,WAAW,uBAAuB,cAAgB,CAAC,KAAK,SAC7F,CACA,CACA,CAAC,EC3CD,KAAM,CAAA,UAAED,CAAS,EAAK,SAEtBA,EAAU,SAAS,kCAAmC,CAClD,QAAS,CACL,mBAAoB,CAChB,MAAMI,EAAyB,KAAK,kBAAkB,OAClD,KAAK,QAAQ,cAAc,OAC3B,KAAK,QAAQ,cAAc,MAC3C,EAEY,KAAK,aAAeA,EAAuB,OAAO,SAAS,QAAQ,GAAG,EAGtE,MAAMD,EAF6B,KAAK,kBAAkB,OAAO,gCAAgC,EAEvC,OAAO,SAAS,QAAQ,GAAG,EACrFA,EAAuB,aAAe,GAEtC,KAAK,aAAa,UAAY,KAAK,QAAQ,GAC3C,KAAK,aAAa,SAAW,KAAK,QAAQ,cAAc,OAAS,EACjE,KAAK,aAAa,KAAO,gBACzB,KAAK,aAAa,OAAS,OAC3B,KAAK,aAAa,cAAgB,MAClC,KAAK,aAAa,MAAQ,GAC1B,KAAK,aAAa,WAAW,uBAAyBA,EAEtD,KAAK,QAAQ,cAAc,KAAK,KAAK,YAAY,CAC7D,CACA,CACA,CAAC,EC5BD,KAAM,CAAE,UAAAH,CAAS,EAAK,SAEtBA,EAAU,SAAS,oBAAqB,CACpC,SAAU,CACN,iBAAkB,CACd,MAAMK,EAAW,KAAK,OAAO,iBAAiB,EAE9C,OAAAA,EAAS,eAAe,sCAAsC,EAEvDA,CACnB,CACA,CACA,CAAC"}